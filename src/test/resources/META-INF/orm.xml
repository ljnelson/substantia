<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm
                                     http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd"
                 version="2.1">

  <mapped-superclass name="com.edugility.substantia.substance.AbstractSubstance">
    <attributes>
      <basic access="FIELD" name="lastModificationTime" optional="true">
        <column name="LAST_MODIFICATION_TIME" nullable="true"/>
        <temporal>TIMESTAMP</temporal>
      </basic>
    </attributes>
  </mapped-superclass>

  <entity access="FIELD" class="com.edugility.substantia.id.IdTypeEntity">
    <table name="IDTYPE"/>
    <attributes>
      <id name="pk">
        <column name="ID" updatable="false"/>
        <generated-value strategy="TABLE" generator="IdTypeEntityGenerator"/>
        <table-generator
            name="IdTypeEntityGenerator"
            table="JPA_GENERATORS"
            pk-column-name="JPA_GENERATOR_NAME"
            value-column-name="JPA_GENERATOR_VALUE"
            pk-column-value="ID_TYPE_ENTITY"
            initial-value="1"
            allocation-size="100"/>
      </id>
      <basic name="name" optional="false">
        <column name="NAME" unique="true" nullable="false" length="30"/>
      </basic>
      <basic name="referenceType" optional="false">
        <column name="REFERENCE_TYPE_NAME" nullable="false" length="30"/>
        <convert converter="com.edugility.jpa.converters.ClassToStringConverter"/>
      </basic>
      <basic name="referentType" optional="false">
        <column name="REFERENT_TYPE_NAME" nullable="false" length="30"/>
        <convert converter="com.edugility.jpa.converters.ClassToStringConverter"/>
      </basic>
    </attributes>
  </entity>

  <entity access="PROPERTY" class="com.edugility.substantia.name.NameTypeEntity">
    <table name="NAME_TYPE"/>
    <attributes>
      <id name="id" access="FIELD">
        <column name="ID" updatable="false"/>
        <generated-value strategy="TABLE" generator="NameTypeEntityGenerator"/>
        <table-generator
            name="NameTypeEntityGenerator"
            table="JPA_GENERATORS"
            pk-column-name="JPA_GENERATOR_NAME"
            value-column-name="JPA_GENERATOR_VALUE"
            pk-column-value="NAME_TYPE_ENTITY"
            initial-value="1"
            allocation-size="100"/>
      </id>
      <version name="version" access="FIELD">
        <column name="VERSION" nullable="false"/>
      </version>
      <basic name="value" optional="false">
        <column name="VALUE" length="30" nullable="false"/>
      </basic>
      <basic access="FIELD" name="lastModificationTime">
        <column name="LAST_MODIFICATION_TIME" nullable="true"/>
        <temporal>TIMESTAMP</temporal>
      </basic>
    </attributes>
  </entity>

  <entity access="PROPERTY" class="com.edugility.substantia.name.NameValueEntity">
    <table name="NAME_VALUE"/>
    <attributes>
      <id name="pk" access="FIELD">
        <column name="ID" updatable="false"/>
        <generated-value strategy="TABLE" generator="NameValueEntityGenerator"/>
        <table-generator
            name="NameValueEntityGenerator"
            table="JPA_GENERATORS"
            pk-column-name="JPA_GENERATOR_NAME"
            value-column-name="JPA_GENERATOR_VALUE"
            pk-column-value="NAME_VALUE_ENTITY"
            initial-value="1"
            allocation-size="100"/>
      </id>
      <basic name="whitespaceReplacement">
        <column name="WHITESPACE_REPLACEMENT" length="3"/>
      </basic>
      <basic name="atomic">
        <column name="ATOMIC"/>
      </basic>
      <basic name="value" optional="false">
        <column name="VALUE" length="30" nullable="false"/>
      </basic>
    </attributes>
  </entity>

  <entity access="PROPERTY" class="com.edugility.substantia.name.NameEntity">
    <table name="NAME"/>
    <attributes>
      <id name="pk" access="FIELD">
        <column name="ID" updatable="false"/>
        <generated-value strategy="TABLE" generator="NameEntityGenerator"/>
        <table-generator
            name="NameEntityGenerator"
            table="JPA_GENERATORS"
            pk-column-name="JPA_GENERATOR_NAME"
            value-column-name="JPA_GENERATOR_VALUE"
            pk-column-value="NAME_ENTITY"
            initial-value="1"
            allocation-size="100"/>
      </id>
      <basic name="namedId" access="FIELD">
        <column name="NAMED_ID" nullable="false"/>
      </basic>
      <many-to-one name="nameValue" optional="false" target-entity="com.edugility.substantia.name.NameValueEntity">
        <join-column name="NAME_VALUE_ID" nullable="false"/>
        <foreign-key name="FK_NAME_NAMEVALUE" constraint-mode="CONSTRAINT" foreign-key-definition="FOREIGN KEY (NAME_VALUE_ID) REFERENCES NAME_VALUE (ID)"/>
      </many-to-one>
      <transient name="named"/>
      <basic access="FIELD" name="lastModificationTime">
        <column name="LAST_MODIFICATION_TIME" nullable="true"/>
        <temporal>TIMESTAMP</temporal>
      </basic>
      <version name="version" access="FIELD">
        <column name="VERSION" nullable="false" default="0"/>
      </version>
    </attributes>
  </entity>

  <entity access="FIELD" class="com.edugility.substantia.substance.Person">
    <table name="PERSON"/>
    <attributes>
      <id name="id">
        <column name="ID" updatable="false"/>
        <generated-value strategy="TABLE" generator="PersonGenerator"/>
        <table-generator
            name="PersonGenerator"
            table="JPA_GENERATORS"
            pk-column-name="JPA_GENERATOR_NAME"
            value-column-name="JPA_GENERATOR_VALUE"
            pk-column-value="PERSON"
            initial-value="1"
            allocation-size="100"/>
      </id>
      <version name="version">
        <column name="VERSION" nullable="false" default="0"/>
      </version>
    </attributes>
  </entity>

</entity-mappings>
